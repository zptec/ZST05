ENHANCEMENT 1  ZTMPTB_I08.    "active version
*ZST05 DIAPLAY QUERY RESULT DETAIL - BORIS TOWN 2016-5-8
*ENHANCEMENT POINT: END OF CL_HDB_ACTION_SQL_EDITOR~IF_DB6_ACTION_CONTROLLER~INIT
*SYSTEM VERSION: NW 7.5 FOR S4HANA OP 1511
IF SY-TCODE EQ 'ZDBACOCKPIT_SQL'.
  "01 DEFINE STATEMTN STRING 2016-5-8
  DATA LTMPTB_LV_STATEMENT TYPE STRING  .
  "02 DEFINE STATEMTN TABLE 2016-5-8
  DATA LTMPTB_LT_STMT_TABLE TYPE DB6_EDITOR_LIST.
  "03 DEFINE STATEMTN TABLE LINE 2016-5-8
  DATA LTMPTB_DB6_EDITOR_LINE TYPE DB6_EDITOR_LINE.
  "04 Init Statments 2016-5-8 18:59:55
  CLEAR: LTMPTB_LV_STATEMENT, LTMPTB_LT_STMT_TABLE, LTMPTB_DB6_EDITOR_LINE.
  "05 Export Statments From memory 2016-5-8
  IMPORT P_STATEMTN = LTMPTB_LV_STATEMENT FROM MEMORY ID 'ZTMPTB_ZST05_SQL'.
  IF LTMPTB_LV_STATEMENT IS NOT INITIAL.

    "06 Append statment to editor_line 2016-5-8
    LTMPTB_DB6_EDITOR_LINE = LTMPTB_LV_STATEMENT.
    APPEND LTMPTB_DB6_EDITOR_LINE TO LTMPTB_LT_STMT_TABLE.

    "07 Insert Test Statments into History 2016-5-8
    ME->TRANSFER_COMMAND_TO_HISTORY( EXPORTING IM_STATEMENT = LTMPTB_LV_STATEMENT IM_STMT_TAB = LTMPTB_LT_STMT_TABLE ).

    "08 HANDLE PAI TO REFRESH EDITOR 2016-5-8
    ME->IF_DB6_ACTION_CONTROLLER~HANDLE_PAI( OKCODE = 'SQLCMD' SCREEN = '0108' ).

    "09 HANDLE PAI TO TOGGLE UI 2016-5-8
    ME->IF_DB6_ACTION_CONTROLLER~HANDLE_PAI( OKCODE = 'TOGGLE' SCREEN = '0108' ).

    "10 HANDLE PAI TO EXECUTE QUERY 2016-5-8
    ME->IF_DB6_ACTION_CONTROLLER~HANDLE_PAI( OKCODE = 'EXEC' SCREEN = '0108' ).

  ENDIF.
ENDIF.
ENDENHANCEMENT.
